<div class="container-fluid item-main py-2" [formGroup]="formGroup">
    <div class="row">
        <div class="col-auto d-flex align-items-center p-0">
            <app-breadcrumb *ngIf="canEdit" [breadcrumbs]="breadcrumbs"></app-breadcrumb>
        </div>
        <div class="col d-flex flex-row-reverse p-0">
            <app-button-edit *ngIf="!isAdding && canEdit" (cancel)="onCancel()" (editClicked)="onEdit()" (addClicked)="onAdd()"
                (confirm)="onConfirm()" [isEditing]="isEditing" [canEdit]="canEdit" [canAdd]="canAdd">
            </app-button-edit>
        </div>
    </div>
    <div class="row">
        <div class="col" *ngIf="!isEditing">
            <h1 class="h2">{{document?.name}}</h1>
        </div>
        <div class="col py-2" *ngIf="isEditing">
            <h1 class="h2">Rezäpt bearbeite</h1>
            <div class="form-group">
                <label for="name"><h3 class="h6">Name</h3></label>
                <input id="name" type="text" class="form-control" formControlName="name" placeholder="Zuetat">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col d-flex flex-row gap-1" *ngIf="!isEditing && document?.tags">
            <div *ngFor="let tag of document?.tags; let i = index">
                <span>{{tag}}</span>
            </div>
        </div>
        <div class="col" *ngIf="isEditing">
            <h3 class="h6">Tägs</h3>
            <div class="btn-group" role="group" aria-label="Tags">
                <ng-container *ngIf="document?.tags?.length! === 0">
                    -
                </ng-container>
                <ng-container *ngFor="let tag of document?.tags; let i = index">
                    <button type="button" class="close btn btn-outline-primary btn-sm d-flex" aria-label="Close"
                        (click)="onDeleteTag(i)">
                        {{tag}}<i-bs name="x">delete</i-bs>
                    </button>
                </ng-container>
            </div>
            <div class="form-group py-2">
                <div id="name" class="input-group" role="group" aria-label="Gib es Täg ii">
                    <input type="text" class="form-control" [formControl]="tagInput" placeholder="Gib es Täg ii"
                        (keydown.enter)="onTagEntered()">
                    <button type="button" class="close btn btn-outline-secondary btn-sm" aria-label="Close"
                        (click)="onTagEntered()">
                        <i-bs name="plus">add</i-bs>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col p-4" *ngIf="!isEditing && document?.description1">
            <pre class="m-0">{{document?.description1}}</pre>
        </div>
        <div class="col py-2" *ngIf="isEditing">
            <div class="form-group">
                <label for="description"><h3 class="h6">Beschribig</h3></label>
                <textarea id="description" rows="6" class="form-control" formControlName="description1"
                    placeholder="Gib ä Beschribig ii"></textarea>
            </div>
        </div>
    </div>
</div>